{"version":3,"file":"migrate-to-advanced-prepaid.js","sourceRoot":"","sources":["../../../src/db/migrations/migrate-to-advanced-prepaid.ts"],"names":[],"mappings":"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"}