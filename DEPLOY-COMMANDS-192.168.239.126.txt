====================================================================
🚀 DEPLOY v2.0.9 ke 192.168.239.126
====================================================================

OPSI 1: ONE-LINE COMMAND (Copy-Paste Langsung)
====================================================================

ssh root@192.168.239.126 "cd /opt/billing && git pull origin main && npm run build && pm2 restart billing-app && pm2 list"


OPSI 2: STEP-BY-STEP MANUAL
====================================================================

ssh root@192.168.239.126

cd /opt/billing

git pull origin main

npm run build

pm2 restart billing-app

pm2 list


OPSI 3: DOUBLE-CLICK FILE
====================================================================

Double-click file ini:
DEPLOY-TO-192.168.239.126.bat


====================================================================
📋 SETELAH DEPLOY SELESAI
====================================================================

TEST IMPORT:
1. Buka Excel, buat 3 kolom: Nama | Telepon | Alamat
2. Isi 2-3 baris test data
3. Save as: test_import.xlsx
4. Buka: http://192.168.239.126/customers/list
5. Klik "📥 Import Excel"
6. Upload file


MONITOR LOG (Terminal Baru):
ssh root@192.168.239.126 "pm2 logs billing-app --lines 0"


CEK CUSTOMERS:
http://192.168.239.126/customers/list


====================================================================
🔧 JIKA ERROR
====================================================================

ERROR: "tsc not found"
────────────────────────────────────────────────────────────────────
ssh root@192.168.239.126
cd /opt/billing
npm install
npm run build
pm2 restart billing-app


ERROR: "PM2 process not found"
────────────────────────────────────────────────────────────────────
ssh root@192.168.239.126
cd /opt/billing
pm2 start ecosystem.config.js --env production
pm2 save


ERROR: "Git pull failed"
────────────────────────────────────────────────────────────────────
ssh root@192.168.239.126
cd /opt/billing
git status
git stash
git pull origin main
npm run build
pm2 restart billing-app


====================================================================
📊 TEMPLATE EXCEL UNTUK TEST
====================================================================

Baris 1 (Header):
Nama	Telepon	Alamat

Baris 2:
Test User	08999999999	Jl. Test No. 1

Baris 3:
John Doe	08123456789	Jl. Merdeka No. 123

Save as: test_import.xlsx


====================================================================
✅ EXPECTED RESULT
====================================================================

Setelah upload Excel:
- Notifikasi: "Berhasil: 2, Gagal: 0"
- Customer muncul di tabel
- Status: Inactive (ikon merah)
- Connection: PPPoE


Log PM2 (untuk setiap baris):
📝 Processing row 2: {
  Nama: 'Test User',
  Telepon: '08999999999',
  Alamat: 'Jl. Test No. 1'
}
  ✅ Validation passed
  ✅ Phone OK - No duplicate
  ✅ SUCCESS: Row 2 imported!


====================================================================
🌐 QUICK LINKS
====================================================================

Application:     http://192.168.239.126
Customer List:   http://192.168.239.126/customers/list
Dashboard:       http://192.168.239.126/dashboard
GitHub Release:  https://github.com/adiprayitno160-svg/billing/releases/tag/v2.0.9


====================================================================

