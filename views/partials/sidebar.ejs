<div class="h-full p-4 space-y-2 relative z-[1001]" style="pointer-events: auto !important;">
    <!-- Logo/Brand -->
    <div class="flex items-center gap-3 mb-8 pb-6 border-b border-white/20">
        <div
            class="w-12 h-12 bg-gradient-to-br from-blue-400 via-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-xl ring-2 ring-white/30">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" />
            </svg>
        </div>
        <div>
            <h1 class="text-xl font-bold text-white tracking-tight">Billing</h1>
            <p class="text-xs text-blue-100 font-medium">System (v2.5)</p>
        </div>
    </div>

    <!-- Dashboard Link -->
    <div class="mb-6">
        <a class="flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 <%= (typeof currentPath !== 'undefined' ? currentPath === '/' : true) ? 'bg-white/20 text-white shadow-lg ring-2 ring-white/30' : 'hover:bg-white/15 text-white hover:text-white' %>"
            href="/">
            <div class="w-9 h-9 bg-white/20 rounded-xl flex items-center justify-center ring-1 ring-white/30">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24"
                    stroke-width="2" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                </svg>
            </div>
            <span class="text-sm font-semibold text-white">Dashboard Admin</span>
        </a>
    </div>

    <!-- Navigation Menu -->
    <nav class="space-y-1" style="position: relative; z-index: 1002; pointer-events: auto !important;">
        <!-- Pelanggan Section -->
        <div class="menu-group">
            <button type="button"
                class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                data-menu="customers" style="pointer-events: auto !important; cursor: pointer !important;">
                <div class="flex items-center gap-3">
                    <div
                        class="w-9 h-9 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
                        </svg>
                    </div>
                    <span class="text-sm font-semibold text-white">Pelanggan</span>
                </div>
                <svg class="w-5 h-5 text-white transition-transform duration-200" id="customers-arrow"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                    <path d="M6 9l6 6 6-6" />
                </svg>
            </button>
            <div class="menu-content hidden ml-4 mt-2 space-y-1" id="customers-menu"
                style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && (currentPath.startsWith('/customers/list') || currentPath.startsWith('/customers') && !currentPath.includes('new-') && !currentPath.includes('registration-requests'))) ? 'bg-white/20 text-white shadow-md' : '' %>"
                    href="/customers/list">
                    <div
                        class="w-6 h-6 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-lg flex items-center justify-center">
                        <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="3"
                            viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M9 12h6m-6 4h6m2 5H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.586a1 1 0 0 1 .707.293l5.414 5.414a1 1 0 0 1 .293.707V19a2 2 0 0 1-2 2z">
                            </path>
                        </svg>
                    </div>
                    <span class="text-sm font-medium">Data Pelanggan</span>
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/customers/new-pppoe')) ? 'bg-white/15 text-white' : '' %>"
                    href="/customers/new-pppoe">
                    <div
                        class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-blue-500 rounded-lg flex items-center justify-center">
                        <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                            viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 4v16m8-8H4"></path>
                        </svg>
                    </div>
                    <span class="text-sm">Pelanggan PPPOE Baru</span>
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/customers/new-static-ip')) ? 'bg-white/15 text-white' : '' %>"
                    href="/customers/new-static-ip">
                    <div
                        class="w-6 h-6 bg-gradient-to-br from-violet-400 to-indigo-500 rounded-lg flex items-center justify-center">
                        <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                            viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 4v16m8-8H4"></path>
                        </svg>
                    </div>
                    <span class="text-sm">Pelanggan IP Statis Baru</span>
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/customers/import')) ? 'bg-white/15 text-white' : '' %>"
                    href="/customers/import">
                    <div
                        class="w-6 h-6 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center">
                        <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                            viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10">
                            </path>
                        </svg>
                    </div>
                    <span class="text-sm">Import dari MikroTik</span>
                </a>
                <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/customers/registration-requests')) ? 'bg-white/20 text-white shadow-md' : '' %>"
                    href="/customers/registration-requests">
                    <div
                        class="w-6 h-6 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center">
                        <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                            viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z">
                            </path>
                        </svg>
                    </div>
                    <span class="text-sm">Permintaan Registrasi</span>
                </a>
            </div>
        </div>


        <% if (typeof user !=='undefined' && user && (user.role==='superadmin' || user.role==='operator' )) { %>
            <!-- Aktivasi PPPoE Section (Prominent) -->
            <div class="mt-4 mb-2">
                <a class="flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/pppoe/activation')) ? 'bg-white/20 text-white shadow-lg ring-2 ring-white/30' : 'hover:bg-white/15 text-white hover:text-white' %>"
                    href="/pppoe/activation">
                    <div
                        class="w-9 h-9 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 transition-transform hover:scale-110">
                        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />
                        </svg>
                    </div>
                    <span class="text-sm font-semibold text-white">Aktivasi PPPoE</span>
                </a>
            </div>
            <% } %>

                <!-- Paket Internet Section -->
                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="packages" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-9 h-9 bg-gradient-to-br from-green-400 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">Paket Internet</span>
                        </div>
                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="packages-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="packages-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/packages/pppoe/packages')) ? 'bg-white/15 text-white' : '' %>"
                            href="/packages/pppoe/packages">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Paket PPPOE</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/packages/pppoe/profiles')) ? 'bg-white/15 text-white' : '' %>"
                            href="/packages/pppoe/profiles">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Profil PPPOE</span>
                        </a>

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/packages/static-ip')) ? 'bg-white/15 text-white' : '' %>"
                            href="/packages/static-ip">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-teal-400 to-cyan-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S12 12 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S12 3 12 3">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Paket IP Static</span>
                        </a>
                    </div>
                </div>




                <!-- FTTH Section -->
                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="ftth" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-9 h-9 bg-gradient-to-br from-purple-400 to-pink-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S12 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S12 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">FTTH</span>
                        </div>
                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="ftth-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="ftth-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/ftth/areas')) ? 'bg-white/15 text-white' : '' %>"
                            href="/ftth/areas">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
                                </svg>
                            </div>
                            <span class="text-sm">Data Master Area</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/ftth/olt')) ? 'bg-white/15 text-white' : '' %>"
                            href="/ftth/olt">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">OLT</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/ftth/odc')) ? 'bg-white/15 text-white' : '' %>"
                            href="/ftth/odc">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-fuchsia-400 to-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">ODC</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/ftth/odp')) ? 'bg-white/15 text-white' : '' %>"
                            href="/ftth/odp">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-pink-400 to-rose-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M9 9v11a1 1 0 001 1h4a1 1 0 001-1V9M9 5h6m-3-4v4"></path>
                                </svg>
                            </div>
                            <span class="text-sm">ODP</span>
                        </a>
                    </div>
                </div>


                <!-- GenieACS Section -->
                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="genieacs" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-9 h-9 bg-gradient-to-br from-teal-400 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">GenieACS</span>
                        </div>
                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="genieacs-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="genieacs-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath === '/genieacs') ? 'bg-white/15 text-white' : '' %>"
                            href="/genieacs">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-teal-400 to-cyan-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Dashboard</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/genieacs/devices')) ? 'bg-white/15 text-white' : '' %>"
                            href="/genieacs/devices">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Daftar Devices</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200"
                            href="http://192.168.239.154:3000" target="_blank">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">GenieACS UI â†—</span>
                        </a>
                    </div>
                </div>



                <!-- Billing Section -->
                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="billing" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-9 h-9 bg-gradient-to-br from-orange-400 to-red-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">Billing</span>
                        </div>
                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="billing-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="billing-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath === '/billing/dashboard') ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/dashboard">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"></path>
                                    <path d="M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"></path>
                                </svg>
                            </div>
                            <span class="text-sm">Dashboard Billing</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/tagihan')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/tagihan">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-amber-400 to-orange-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Daftar Tagihan</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/subscriptions')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/subscriptions">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Langganan</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/payments/history')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/payments/history">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-lime-400 to-green-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <span class="text-sm">Riwayat Pembayaran</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/verification')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/verification">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Verifikasi Pembayaran</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/debts/view')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/debts/view">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-red-400 to-rose-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Pelacakan Hutang</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/scheduler/settings')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/scheduler/settings">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-violet-400 to-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.95 1.109v1.094c-.01.548-.407 1.02-.95 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.2">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Pengaturan Scheduler</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/reports')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/reports">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-sky-400 to-blue-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Laporan</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/billing/isolated-customers')) ? 'bg-white/15 text-white' : '' %>"
                            href="/billing/isolated-customers">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-red-400 to-rose-600 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Pelanggan Terisolasi</span>
                        </a>
                    </div>
                </div>

                <!-- Prepaid Section (NEW) -->
                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="prepaid" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-9 h-9 bg-gradient-to-br from-indigo-400 to-purple-600 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">Prabayar</span>
                        </div>
                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="prepaid-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="prepaid-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/prepaid/customers')) ? 'bg-white/20 text-white shadow-md' : '' %>"
                            href="/prepaid/customers">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Pelanggan Prabayar</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/prepaid/transactions')) ? 'bg-white/20 text-white shadow-md' : '' %>"
                            href="/prepaid/transactions">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Transaksi</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/prepaid/payment-requests')) ? 'bg-white/20 text-white shadow-md' : '' %>"
                            href="/prepaid/payment-requests">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-fuchsia-400 to-purple-600 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <span class="text-sm">Konfirmasi Pembayaran</span>
                        </a>
                        <!-- Vouchers and Referrals removed -->

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/prepaid/reports')) ? 'bg-white/20 text-white shadow-md' : '' %>"
                            href="/prepaid/reports">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-green-400 to-teal-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Reports</span>
                        </a>
                    </div>
                </div>

                <!-- Accounting Section -->

                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="accounting" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-9 h-9 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">Pembukuan</span>
                        </div>

                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="accounting-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="accounting-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/admin/technician/salary')) ? 'bg-white/15 text-white' : '' %>"
                            href="/admin/technician/salary/approval">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <span class="text-sm">Approval Gaji</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/accounting/bookkeeping')) ? 'bg-white/15 text-white' : '' %>"
                            href="/accounting/bookkeeping">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Sistem Pembukuan</span>
                        </a>
                    </div>
                </div>






                <!-- Technician Section -->
                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="technician" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div class="w-9 h-9 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform"
                                style="background: linear-gradient(to bottom right, #6366f1, #9333ea) !important;">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M20.25 14.15v4.25c0 1.094-.887 1.987-1.987 1.987H5.737c-1.1 0-1.987-.893-1.987-1.987v-4.25m16.5 0a21.38 21.38 0 00-16.5 0m16.5 0l-2.25-4.125a2.25 2.25 0 00-1.964-1.161h-6.536a2.25 2.25 0 00-1.964 1.16l-2.25 4.126" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">Teknisi</span>
                        </div>
                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="technician-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="technician-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath === '/technician') ? 'bg-white/15 text-white' : '' %>"
                            href="/technician">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
                                </svg>
                            </div>
                            <span class="text-sm">Dashboard</span>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/technician/history')) ? 'bg-white/15 text-white' : '' %>"
                            href="/technician/history">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            </div>
                            <span class="text-sm">Riwayat Pekerjaan</span>
                        </a>
                        <% if (typeof user !=='undefined' && user && user.role==='teknisi' ) { %>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/technician/salary/my-history')) ? 'bg-white/15 text-white' : '' %>"
                                href="/technician/salary/my-history">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                </div>
                                <span class="text-sm">Gaji Saya</span>
                            </a>
                            <% } %>
                    </div>
                </div>

                <!-- Monitoring Section -->
                <div class="menu-group">
                    <button type="button"
                        class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                        data-menu="monitoring" style="pointer-events: auto !important; cursor: pointer !important;">
                        <div class="flex items-center gap-3">
                            <div
                                class="w-9 h-9 bg-gradient-to-br from-cyan-400 to-blue-600 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z" />
                                </svg>
                            </div>
                            <span class="text-sm font-semibold text-white">Monitoring</span>
                        </div>
                        <svg class="w-5 h-5 text-white transition-transform duration-200" id="monitoring-arrow"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <path d="M6 9l6 6 6-6" />
                        </svg>
                    </button>
                    <div class="menu-content hidden ml-4 mt-2 space-y-1" id="monitoring-menu"
                        style="display: none; pointer-events: auto !important; z-index: 1004 !important;">

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath === '/monitoring/dashboard') ? 'bg-white/15 text-white' : '' %>"
                            href="/monitoring/dashboard">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Dashboard</span>
                        </a>

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/monitoring/maps')) ? 'bg-white/15 text-white' : '' %>"
                            href="/monitoring/maps">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-green-400 to-emerald-600 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z" />
                                </svg>
                            </div>
                            <span class="text-sm">Network Map</span>
                        </a>

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/monitoring/trouble')) ? 'bg-white/15 text-white' : '' %>"
                            href="/monitoring/trouble">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-red-400 to-rose-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Gangguan</span>
                        </a>

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/monitoring/pppoe')) ? 'bg-white/15 text-white' : '' %>"
                            href="/monitoring/pppoe">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-green-400 to-emerald-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">PPPoE</span>
                        </a>

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/monitoring/static-ip')) ? 'bg-white/15 text-white' : '' %>"
                            href="/monitoring/static-ip">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-blue-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M21 7.5L9 14.25 3 10.875M21 7.5V16.5L9 23.25 3 19.875M21 7.5l-6-3.375M9 14.25L3 17.625M9 14.25l6-3.375M21 16.5l-6 3.375">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">Static IP</span>
                        </a>

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/monitoring/sla')) ? 'bg-white/15 text-white' : '' %>"
                            href="/monitoring/sla">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-purple-400 to-fuchsia-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path>
                                </svg>
                            </div>
                            <span class="text-sm">SLA</span>
                        </a>

                        <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/monitoring/ai')) ? 'bg-white/15 text-white' : '' %>"
                            href="/monitoring/ai">
                            <div
                                class="w-6 h-6 bg-gradient-to-br from-violet-400 to-purple-500 rounded-lg flex items-center justify-center">
                                <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" stroke-width="2.5"
                                    viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z">
                                    </path>
                                </svg>
                            </div>
                            <span class="text-sm">AI Analytics</span>
                        </a>

                    </div>
                </div>


                <!-- Pengaturan Section -->
                <div class="pt-4 mt-4 border-t border-white/20">
                    <div class="text-xs font-semibold text-white uppercase tracking-wider mb-3 px-4">
                        Pengaturan</div>
                    <div class="menu-group">
                        <button type="button"
                            class="menu-toggle w-full flex items-center justify-between px-4 py-3 rounded-xl text-white hover:bg-white/15 transition-all duration-200 group"
                            data-menu="settings" style="pointer-events: auto !important; cursor: pointer !important;">
                            <div class="flex items-center gap-3">
                                <div
                                    class="w-9 h-9 bg-gradient-to-br from-rose-400 to-pink-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 group-hover:scale-110 transition-transform">
                                    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.95 1.109v1.094c-.01.548-.407 1.02-.95 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.2" />
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                </div>
                                <span class="text-sm font-semibold text-white">Pengaturan</span>
                            </div>
                            <svg class="w-5 h-5 text-white transition-transform duration-200" id="settings-arrow"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <path d="M6 9l6 6 6-6" />
                            </svg>
                        </button>
                        <div class="menu-content hidden ml-4 mt-2 space-y-1" id="settings-menu"
                            style="display: none; pointer-events: auto !important; z-index: 1004 !important;">
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/company')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/company">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-rose-400 to-pink-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">Pengaturan Perusahaan</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/system')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/system">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.95 1.109v1.094c-.01.548-.407 1.02-.95 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204">
                                        </path>
                                        <path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">System Settings</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/backup')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/backup">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">Backup & Restore</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/mikrotik')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/mikrotik">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.072 0 2.063.49 2.7 1.35l2.087 2.606a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">MikroTik</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/job-types')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/job-types">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-amber-400 to-orange-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M20.25 14.15v4.25c0 1.094-.887 1.987-1.987 1.987H5.737c-1.1 0-1.987-.893-1.987-1.987v-4.25m16.5 0a21.38 21.38 0 00-16.5 0m16.5 0l-2.25-4.125a2.25 2.25 0 00-1.964-1.161h-6.536a2.25 2.25 0 00-1.964 1.16l-2.25 4.126" />
                                    </svg>
                                </div>
                                <span class="text-sm">Jenis Pekerjaan</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/payment-gateway')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/payment-gateway">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-emerald-400 to-green-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 21z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">Payment Gateway</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/ai')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/ai">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-violet-400 to-purple-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">AI Pembayaran (Gemini)</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && (currentPath === '/settings/whatsapp' || currentPath === '/whatsapp' || currentPath.startsWith('/notification/history'))) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/whatsapp">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-green-400 to-teal-500 rounded-lg flex items-center justify-center">
                                    <i class="fab fa-whatsapp text-white text-[12px]"></i>
                                </div>
                                <span class="text-sm">WhatsApp Bisnis</span>
                            </a>



                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/users')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/users">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-sky-400 to-blue-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">User Management</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/kasir')) ? 'bg-white/15 text-white' : '' %>"
                                href="/kasir/login">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-teal-400 to-cyan-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">Kasir Login</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/database/management')) ? 'bg-white/15 text-white' : '' %>"
                                href="/database/management">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">Database Management</span>
                            </a>

                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/customer-tiers')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/customer-tiers">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-indigo-400 to-blue-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
                                    </svg>
                                </div>
                                <span class="text-sm">Tier Pelanggan</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/credit-score')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/credit-score">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M12 3v18M3 12h18" stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                </div>
                                <span class="text-sm">Skor Kredit</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/integrations')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/integrations">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" />
                                    </svg>
                                </div>
                                <span class="text-sm">Integrasi Sistem</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/sla-contracts')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/sla-contracts">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-purple-400 to-pink-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
                                    </svg>
                                </div>
                                <span class="text-sm">Kontrak SLA</span>
                            </a>
                            <a class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-white hover:bg-white/15 hover:text-white transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/settings/system-update')) ? 'bg-white/15 text-white' : '' %>"
                                href="/settings/system-update">
                                <div
                                    class="w-6 h-6 bg-gradient-to-br from-amber-400 to-orange-500 rounded-lg flex items-center justify-center">
                                    <svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor"
                                        stroke-width="2.5" viewBox="0 0 24 24" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path
                                            d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99">
                                        </path>
                                        <path
                                            d="M12 2.25a.75.75 0 01.75.75v11.69l3.22-3.22a.75.75 0 111.06 1.06l-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5a.75.75 0 111.06-1.06l3.22 3.22V3a.75.75 0 01.75-.75z">
                                        </path>
                                    </svg>
                                </div>
                                <span class="text-sm">System Update</span>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- About Section -->
                <div class="mt-2">
                    <a class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-white/10 transition-all duration-200 <%= (typeof currentPath !== 'undefined' && currentPath.startsWith('/about')) ? 'bg-white/15 text-white' : '' %>"
                        href="/about">
                        <div
                            class="w-9 h-9 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 hover:scale-110 transition-transform">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />
                            </svg>
                        </div>
                        <span class="text-sm font-semibold text-white">Tentang Aplikasi</span>
                    </a>
                </div>

                <!-- Logout Section -->
                <div class="mt-2">
                    <a class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-red-500/20 hover:text-red-100 transition-all duration-200"
                        href="/logout">
                        <div
                            class="w-9 h-9 bg-gradient-to-br from-red-400 to-red-600 rounded-xl flex items-center justify-center shadow-lg ring-1 ring-white/30 hover:scale-110 transition-transform">
                            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" stroke-width="2"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75" />
                            </svg>
                        </div>
                        <span class="text-sm font-semibold text-white">Logout</span>
                    </a>
                </div>
    </nav>
</div>

<!-- Inline script to ensure menu buttons work immediately -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Simple and robust toggle function
        function toggleSidebarMenu(menuName) {
            const menuContent = document.getElementById(menuName + '-menu');
            const arrow = document.getElementById(menuName + '-arrow');

            if (!menuContent) return;

            // Check current state
            const isHidden = menuContent.classList.contains('hidden') || menuContent.style.display === 'none';

            if (isHidden) {
                // Show
                menuContent.classList.remove('hidden');
                menuContent.style.display = 'block';
                if (arrow) arrow.style.transform = 'rotate(180deg)';
            } else {
                // Hide
                menuContent.classList.add('hidden');
                menuContent.style.display = 'none';
                if (arrow) arrow.style.transform = 'rotate(0deg)';
            }
        }

        // Attach listeners to all menu toggles
        const toggles = document.querySelectorAll('.menu-toggle');
        toggles.forEach(toggle => {
            // Remove old listeners by cloning (optional but safe)
            const newToggle = toggle.cloneNode(true);
            toggle.parentNode.replaceChild(newToggle, toggle);

            newToggle.addEventListener('click', function (e) {
                e.preventDefault();
                e.stopPropagation(); // Stop bubbling
                console.log('Sidebar menu clicked:', this.getAttribute('data-menu'));

                const menuName = this.getAttribute('data-menu');
                if (menuName) {
                    toggleSidebarMenu(menuName);
                }
            });
        });

        // Expose to window for debugging/fallback
        window.toggleSidebarMenu = toggleSidebarMenu;

        // Open active menu automatically
        if (currentPath.includes('/customers')) toggleSidebarMenu('customers');
        else if (currentPath.includes('/packages')) toggleSidebarMenu('packages');
        else if (currentPath.includes('/pppoe/activation')) {
            // No toggle needed for top-level menu
        }
        else if (currentPath.includes('/ftth')) toggleSidebarMenu('ftth');
        else if (currentPath.includes('/genieacs')) toggleSidebarMenu('genieacs');
        else if (currentPath.includes('/monitoring')) toggleSidebarMenu('monitoring');
        else if (currentPath.includes('/billing')) toggleSidebarMenu('billing');
        else if (currentPath.includes('/prepaid')) toggleSidebarMenu('prepaid');
        else if (currentPath.includes('/accounting') || currentPath.includes('/admin/technician')) toggleSidebarMenu('accounting');
        else if (currentPath.includes('/settings') || currentPath.includes('/whatsapp')) toggleSidebarMenu('settings');
    });
</script>