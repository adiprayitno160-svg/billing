<!-- Modern Fixed Footer -->
<footer id="footer"
    style="position: fixed; bottom: 0; left: 256px; right: 0; z-index: 50 !important; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); backdrop-filter: blur(10px); border-top: 2px solid #1d4ed8; box-shadow: 0 -4px 20px rgba(37, 99, 235, 0.3); transition: left 0.3s ease; height: 60px; pointer-events: auto;">
    <div style="padding: 12px 24px;">
        <div style="display: flex; align-items: center; justify-content: space-between;">
            <!-- Left: Copyright -->
            <div style="display: flex; align-items: center; gap: 12px;">
                <div style="flex-shrink: 0;">
                    <% if (typeof companyInfo !=='undefined' && companyInfo && companyInfo.logo_url) { %>
                        <img src="<%= companyInfo.logo_url %>" alt="Logo"
                            style="height: 32px; width: 32px; object-fit: contain; border-radius: 8px;">
                        <% } else { %>
                            <div
                                style="width: 32px; height: 32px; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                                <i class="fas fa-building" style="color: white; font-size: 14px;"></i>
                            </div>
                            <% } %>
                </div>
                <div>
                    <p style="font-size: 12px; font-weight: 600; color: #ffffff; margin: 0;">
                        &copy; <%= new Date().getFullYear() %>
                            <%= typeof companyInfo !=='undefined' && companyInfo && companyInfo.company_name ?
                                companyInfo.company_name : 'Billing System' %>
                    </p>
                    <p style="font-size: 11px; color: #dbeafe; margin: 0;">All rights reserved</p>
                </div>
            </div>

            <!-- Right: Status & Version -->
            <div style="display: flex; align-items: center; gap: 12px; font-size: 12px;">
                <span
                    style="display: inline-flex; align-items: center; gap: 8px; padding: 6px 12px; background-color: rgba(255, 255, 255, 0.2); color: #ffffff; border-radius: 9999px; border: 1px solid rgba(255, 255, 255, 0.3); font-weight: 500; backdrop-filter: blur(5px);">
                    <span
                        style="width: 8px; height: 8px; background-color: #22c55e; border-radius: 50%; animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; box-shadow: 0 0 8px rgba(34, 197, 94, 0.8);"></span>
                    System Online
                </span>
                <span
                    style="padding: 6px 12px; background-color: rgba(255, 255, 255, 0.25); color: #ffffff; border-radius: 9999px; border: 1px solid rgba(255, 255, 255, 0.4); font-weight: 600; backdrop-filter: blur(5px);">
                    v<%= typeof fullVersion !=='undefined' && fullVersion ? fullVersion : (typeof appVersion
                        !=='undefined' ? appVersion : '2.4.6' ) %>
                </span>
            </div>
        </div>
    </div>
</footer>

<style>
    @keyframes pulse {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }
</style>

<script>
    console.log('Footer loaded. Checking connection...');
    fetch('/api/server-time')
        .then(response => {
            if (response.ok) {
                console.log('✅ Connection to server OK');
            } else {
                console.error('❌ Server responded with error:', response.status);
            }
        })
        .catch(error => {
            console.error('❌ Connection failed:', error);
        });
</script>