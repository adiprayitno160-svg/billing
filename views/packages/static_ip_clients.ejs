<div class="rounded border border-slate-200 bg-white p-4">
    <div class="flex items-center justify-between mb-4">
        <div>
            <h2 class="text-lg font-semibold">Client Paket: <%= package.name %></h2>
            <p class="text-sm text-slate-600">Max Clients: <%= package.max_clients || 1 %> | Current: <%= clients.length %></p>
        </div>
        <div class="flex gap-2">
            <% if (!isFull) { %>
            <a href="/packages/static-ip/<%= package.id %>/clients/add" class="px-3 py-1.5 rounded bg-blue-600 text-white text-sm hover:bg-blue-700 inline-block">
                Tambah Client
            </a>
            <% } else { %>
            <span class="px-3 py-1.5 rounded bg-red-100 text-red-700 text-sm">
                Paket Penuh
            </span>
            <% } %>
            <a href="/packages/static-ip" class="px-3 py-1.5 rounded border border-slate-300 text-slate-700 hover:bg-slate-50">
                ← Kembali
            </a>
        </div>
    </div>
    
    <% if (success && success.length > 0) { %>
    <div class="mb-4 p-3 bg-green-100 border border-green-300 text-green-700 rounded">
        <%= success[0] %>
    </div>
    <% } %>
    
    <% if (error && error.length > 0) { %>
    <div class="mb-4 p-3 bg-red-100 border border-red-300 text-red-700 rounded">
        <%= error[0] %>
    </div>
    <% } %>

    <!-- Informasi Paket -->
    <div class="mb-6 p-4 bg-slate-50 border border-slate-200 rounded">
        <h3 class="font-medium text-slate-700 mb-2">Informasi Paket</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
            <div>
                <span class="font-medium">Upload Limit:</span> <%= package.max_limit_upload %>
            </div>
            <div>
                <span class="font-medium">Download Limit:</span> <%= package.max_limit_download %>
            </div>
            <div>
                <span class="font-medium">Parent Upload:</span> <%= package.parent_upload_name || '-' %>
            </div>
            <div>
                <span class="font-medium">Parent Download:</span> <%= package.parent_download_name || '-' %>
            </div>
            <div>
                <span class="font-medium">Shared Upload per Client:</span> 
                <span class="px-2 py-1 text-xs rounded bg-purple-100 text-purple-700">
                    <%= package.max_clients > 1 ? Math.floor(parseInt(package.max_limit_upload.replace(/[^0-9]/g, '')) / package.max_clients) + 'M' : package.max_limit_upload %>
                </span>
            </div>
            <div>
                <span class="font-medium">Shared Download per Client:</span> 
                <span class="px-2 py-1 text-xs rounded bg-purple-100 text-purple-700">
                    <%= package.max_clients > 1 ? Math.floor(parseInt(package.max_limit_download.replace(/[^0-9]/g, '')) / package.max_clients) + 'M' : package.max_limit_download %>
                </span>
            </div>
        </div>
    </div>
    
    <div class="overflow-x-auto">
        <table class="min-w-full text-sm">
            <thead class="text-left text-slate-600">
                <tr>
                    <th class="py-2 pr-4">Nama Client</th>
                    <th class="py-2 pr-4">IP Address</th>
                    <th class="py-2 pr-4">Status</th>
                    <th class="py-2 pr-4">Tanggal Dibuat</th>
                    <th class="py-2 pr-4">Aksi</th>
                </tr>
            </thead>
            <tbody>
                <% (clients || []).forEach(function(client){ %>
                <tr class="border-t border-slate-100">
                    <td class="py-2 pr-4 font-medium"><%= client.client_name %></td>
                    <td class="py-2 pr-4">
                        <span class="px-2 py-1 text-xs rounded bg-blue-100 text-blue-700 font-mono">
                            <%= client.ip_address %>
                        </span>
                    </td>
                    <td class="py-2 pr-4">
                        <span class="px-2 py-1 text-xs rounded bg-green-100 text-green-700">
                            Aktif
                        </span>
                    </td>
                    <td class="py-2 pr-4 text-slate-600">
                        <%= new Date(client.created_at).toLocaleDateString('id-ID') %>
                    </td>
                    <td class="py-2 pr-4 flex gap-2">
                        <a href="/packages/static-ip/<%= package.id %>/clients/<%= client.id %>/edit" class="px-2 py-1 text-xs rounded border border-slate-300 hover:bg-slate-50">Edit</a>
                        <form method="post" action="/packages/static-ip/<%= package.id %>/clients/<%= client.id %>/delete" onsubmit="return confirm('Hapus client ini dari paket?');" class="inline">
                            <button type="submit" class="px-2 py-1 text-xs rounded border border-rose-300 text-rose-700 hover:bg-rose-50">Hapus</button>
                        </form>
                    </td>
                </tr>
                <% }) %>
                <% if (!clients || clients.length === 0) { %>
                <tr><td colspan="5" class="py-6 text-center text-slate-500">Belum ada client. Klik "Tambah Client" untuk menambah client baru.</td></tr>
                <% } %>
            </tbody>
        </table>
    </div>
</div>

