<div class="rounded border border-slate-200 bg-white p-4">
    <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold">Edit ODC</h2>
        <a href="/ftth/odc<%= item.olt_id ? ('?olt_id=' + item.olt_id) : '' %>" class="px-3 py-1.5 rounded border border-slate-300 text-sm">Kembali</a>
    </div>
    <form method="post" action="/ftth/odc/<%= item.id %>" class="grid grid-cols-1 sm:grid-cols-2 gap-3">
        <div>
            <label class="block text-xs text-slate-600 mb-1">Pilih OLT</label>
            <select name="olt_id" required class="w-full rounded border border-slate-300 px-2 py-1.5">
                <% (olts || []).forEach(function(olt){ %>
                <option value="<%= olt.id %>" <%= (item.olt_id == olt.id) ? 'selected' : '' %>><%= olt.name %></option>
                <% }) %>
            </select>
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Nama</label>
            <input name="name" value="<%= item.name %>" required class="w-full rounded border border-slate-300 px-2 py-1.5" />
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Lokasi</label>
            <input name="location" value="<%= item.location || '' %>" class="w-full rounded border border-slate-300 px-2 py-1.5" />
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Latitude</label>
            <input name="latitude" type="number" step="0.0000001" value="<%= item.latitude || '' %>" class="w-full rounded border border-slate-300 px-2 py-1.5" />
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Longitude</label>
            <input name="longitude" type="number" step="0.0000001" value="<%= item.longitude || '' %>" class="w-full rounded border border-slate-300 px-2 py-1.5" />
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Total Port</label>
            <input name="total_ports" type="number" min="0" value="<%= item.total_ports %>" required class="w-full rounded border border-slate-300 px-2 py-1.5" />
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Terpakai</label>
            <input name="used_ports" type="number" min="0" value="<%= item.used_ports %>" required class="w-full rounded border border-slate-300 px-2 py-1.5" />
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Baris Kartu OLT</label>
            <select name="olt_card" class="w-full rounded border border-slate-300 px-2 py-1.5">
                <option value="">-- Pilih Baris --</option>
                <% (olts || []).forEach(function(olt){ %>
                <% const maxCards = (olt.line_cards || 0); %>
                <% for (var c = 1; c <= maxCards; c++) { %>
                <option value="<%= c %>" <%= (item.olt_card == c) ? 'selected' : '' %>>Baris <%= c %> - <%= olt.name %></option>
                <% } %>
                <% }) %>
            </select>
        </div>
        <div>
            <label class="block text-xs text-slate-600 mb-1">Port OLT</label>
            <select name="olt_port" class="w-full rounded border border-slate-300 px-2 py-1.5">
                <option value="">-- Pilih Port --</option>
                <% (olts || []).forEach(function(olt){ %>
                <% const maxPorts = (olt.total_ports || 0); %>
                <% for (var p = 1; p <= maxPorts; p++) { %>
                <option value="<%= p %>" <%= (item.olt_port == p) ? 'selected' : '' %>>Port <%= p %> - <%= olt.name %></option>
                <% } %>
                <% }) %>
            </select>
        </div>
        <div class="sm:col-span-2">
            <label class="block text-xs text-slate-600 mb-1">Catatan</label>
            <textarea name="notes" class="w-full rounded border border-slate-300 px-2 py-1.5"><%= item.notes || '' %></textarea>
        </div>
        <div class="sm:col-span-2 flex justify-end gap-2">
            <a href="/ftth/odc<%= item.olt_id ? ('?olt_id=' + item.olt_id) : '' %>" class="px-3 py-1.5 rounded border border-slate-300">Batal</a>
            <button type="submit" class="px-3 py-1.5 rounded bg-blue-600 text-white hover:bg-blue-700">Simpan</button>
        </div>
    </form>
</div>


