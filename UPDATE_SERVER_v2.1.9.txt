============================================================
ğŸš€ UPDATE SERVER KE V2.1.9 - BUG FIXES
============================================================

Release sudah tersedia di GitHub!
https://github.com/adiprayitno160-svg/billing/releases/tag/v2.1.9

============================================================
ğŸ“‹ LANGKAH UPDATE (COPY-PASTE):
============================================================

cd /opt/billing && \
git pull origin main && \
npm install && \
npm run build && \
npm install --production && \
pm2 restart billing-app --update-env && \
pm2 logs billing-app --lines 50


============================================================
ğŸ› BUG YANG DIPERBAIKI:
============================================================

1. Bulk Delete Customers:
   âœ… Sekarang bisa menghapus sampai ke database
   âœ… Check untuk related records (invoices, subscriptions, dll)
   âœ… Better logging untuk debugging
   âœ… Better error messages

2. Excel Import:
   âœ… Tidak lagi menghasilkan data duplikat
   âœ… Normalisasi nomor telepon (hapus spasi, dash, dot)
   âœ… Deteksi duplikasi lebih akurat
   âœ… Show existing customer name jika duplicate


============================================================
ğŸ§ª TEST SETELAH UPDATE:
============================================================

1. Test Bulk Delete:
   - Pilih beberapa pelanggan TANPA related records
   - Klik "Hapus Terpilih"
   - Verify di database: data harus terhapus

   - Pilih pelanggan DENGAN tagihan aktif
   - Klik "Hapus Terpilih"
   - Harus skipped dengan pesan "Memiliki tagihan aktif"

2. Test Excel Import:
   - Import dengan nomor: "0812-3456-7890"
   - Import lagi dengan nomor: "0812 3456 7890"
   - Harus gagal dengan pesan duplicate

3. Check Logs:
   pm2 logs billing-app --lines 100

   Cari log:
   ğŸ—‘ï¸ Bulk delete request received
   ğŸ” Processing customer ID: X
   ğŸ“ Processing row X
   ğŸ” Checking phone: "..."


============================================================
ğŸ“Š VERIFIKASI:
============================================================

# Check version
cat VERSION          # Harus: 2.1.9
cat VERSION_MAJOR    # Harus: 2.1.9
cat VERSION_HOTFIX   # Harus: 2.1.9

# Check PM2 status
pm2 status

# Check logs
pm2 logs billing-app --lines 50


============================================================
ğŸ“ PERINTAH LENGKAP:
============================================================

cd /opt/billing
git pull origin main
cat VERSION
npm install
npm run build
npm install --production
pm2 restart billing-app --update-env
pm2 status
pm2 logs billing-app --lines 50


============================================================
ğŸ”— LINK RELEASE:
============================================================

GitHub Release:
https://github.com/adiprayitno160-svg/billing/releases/tag/v2.1.9

Changelog:
docs/CHANGELOG_v2.1.9.md


============================================================
SELESAI! âœ…
============================================================

